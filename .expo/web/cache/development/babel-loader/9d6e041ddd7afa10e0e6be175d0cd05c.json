{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport React, { useState, useEffect } from 'react';\nimport userData from \"../data/userData.json\";\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Google from 'expo-auth-session/providers/google';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nWebBrowser.maybeCompleteAuthSession();\n\nvar Login = function Login() {\n  var _Google$useAuthReques = Google.useAuthRequest({\n    expoClientId: '640386546445-fh7iv04kbgq9me7m7m7pcmm2locg5b8e.apps.googleusercontent.com',\n    iosClientId: 'GOOGLE_GUID.apps.googleusercontent.com',\n    androidClientId: 'GOOGLE_GUID.apps.googleusercontent.com',\n    webClientId: '640386546445-mjvktu2jhbtnfcjmpfhej3hcl1rf4nls.apps.googleusercontent.com'\n  }),\n      _Google$useAuthReques2 = _slicedToArray(_Google$useAuthReques, 3),\n      request = _Google$useAuthReques2[0],\n      response = _Google$useAuthReques2[1],\n      promptAsync = _Google$useAuthReques2[2];\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      animating = _useState6[0],\n      setAnimating = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      error = _useState8[0],\n      setError = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      apiData = _useState10[0],\n      setApiData = _useState10[1];\n\n  useEffect(function () {\n    if ((response == null ? void 0 : response.type) === 'success') {\n      var accessToken = response.authentication.accessToken;\n\n      function getUserData() {\n        var response;\n        return _regeneratorRuntime.async(function getUserData$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _regeneratorRuntime.awrap(fetch('https://www.googleapis.com/oauth2/v3/userinfo?access_token=' + accessToken));\n\n              case 2:\n                response = _context.sent;\n                _context.t0 = setApiData;\n                _context.next = 6;\n                return _regeneratorRuntime.awrap(response.json());\n\n              case 6:\n                _context.t1 = _context.sent;\n                (0, _context.t0)(_context.t1);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      }\n\n      getUserData();\n    }\n  }, [response]);\n\n  var submitForm = function submitForm() {\n    setError(false);\n    setAnimating(true);\n    setTimeout(function () {\n      userData.forEach(function (user) {\n        if (user.email === email && user.password === password) {} else {\n          setError(true);\n        }\n\n        setAnimating(false);\n      });\n    }, 2000);\n  };\n\n  return _jsx(View, {\n    children: apiData ? _jsx(Text, {\n      children: \"Welcome\"\n    }) : _jsxs(View, {\n      style: animating ? styles.opaqueContainer : styles.container,\n      children: [_jsx(Text, {\n        style: styles.header,\n        children: \"SWAP ME\"\n      }), _jsxs(View, {\n        style: styles.subContainer,\n        children: [_jsx(Text, {\n          children: \"Email\"\n        }), _jsx(TextInput, {\n          placeholder: \"abc@example.com\",\n          style: styles.emailField,\n          value: email,\n          onChangeText: function onChangeText(value) {\n            setEmail(value);\n          }\n        }), _jsx(Text, {\n          style: styles.passwordText,\n          children: \"Password\"\n        }), _jsx(TextInput, {\n          style: styles.passwordField,\n          value: password,\n          secureTextEntry: true,\n          onChangeText: function onChangeText(value) {\n            setPassword(value);\n          }\n        }), error ? _jsx(Text, {\n          style: styles.errorText,\n          children: \"Invalid credentials\"\n        }) : null, _jsx(Text, {}), _jsx(Button, {\n          title: \"Login\",\n          onPress: submitForm\n        })]\n      }), _jsx(Text, {\n        children: \"Or\"\n      }), _jsx(Button, {\n        title: \" Sign In with Google\",\n        disabled: !request,\n        onPress: promptAsync\n      })]\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'space-evenly',\n    alignItems: 'center',\n    backgroundColor: '#0698b1'\n  },\n  opaqueContainer: {\n    flex: 1,\n    justifyContent: 'space-evenly',\n    alignItems: 'center',\n    backgroundColor: '#0698b1',\n    opacity: 0.8\n  },\n  header: {\n    fontSize: 40,\n    color: 'white'\n  },\n  subContainer: {\n    width: 350,\n    backgroundColor: 'white',\n    padding: 20,\n    borderWidth: 2,\n    borderRadius: 15,\n    borderColor: 'skyblue'\n  },\n  emailField: {\n    borderWidth: 1,\n    padding: 5,\n    borderRadius: 5\n  },\n  passwordText: {\n    marginTop: 10\n  },\n  passwordField: {\n    borderWidth: 1,\n    padding: 5,\n    borderRadius: 5\n  },\n  errorText: {\n    color: 'red',\n    alignSelf: 'center'\n  },\n  activityIndicator: {}\n});\nexport default Login;","map":{"version":3,"names":["React","useState","useEffect","userData","WebBrowser","Google","maybeCompleteAuthSession","Login","useAuthRequest","expoClientId","iosClientId","androidClientId","webClientId","request","response","promptAsync","email","setEmail","password","setPassword","animating","setAnimating","error","setError","apiData","setApiData","type","accessToken","authentication","getUserData","fetch","json","submitForm","setTimeout","forEach","user","styles","opaqueContainer","container","header","subContainer","emailField","value","passwordText","passwordField","errorText","StyleSheet","create","flex","justifyContent","alignItems","backgroundColor","opacity","fontSize","color","width","padding","borderWidth","borderRadius","borderColor","marginTop","alignSelf","activityIndicator"],"sources":["E:/DXC/Code/projects/forked/swapme/src/components/Login.js"],"sourcesContent":["import { StyleSheet, Text, View, TextInput, Button, ActivityIndicator } from 'react-native';\r\nimport React, { useState, useEffect } from 'react';\r\nimport userData from '../data/userData.json';\r\nimport * as WebBrowser from 'expo-web-browser';\r\nimport * as Google from 'expo-auth-session/providers/google';\r\n\r\nWebBrowser.maybeCompleteAuthSession()\r\n\r\nconst Login = () => {\r\n\r\n  const [request, response, promptAsync] = Google.useAuthRequest({\r\n    expoClientId: '640386546445-fh7iv04kbgq9me7m7m7pcmm2locg5b8e.apps.googleusercontent.com',\r\n    iosClientId: 'GOOGLE_GUID.apps.googleusercontent.com',\r\n    androidClientId: 'GOOGLE_GUID.apps.googleusercontent.com',\r\n    webClientId: '640386546445-mjvktu2jhbtnfcjmpfhej3hcl1rf4nls.apps.googleusercontent.com',\r\n  });\r\n\r\n\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const [animating, setAnimating] = useState(false);\r\n\r\n  const [error, setError] = useState(false);\r\n  const [apiData, setApiData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (response?.type === 'success') {\r\n      const { authentication: { accessToken } } = response;\r\n      async function getUserData() {\r\n        let response = await fetch('https://www.googleapis.com/oauth2/v3/userinfo?access_token=' + accessToken);\r\n        setApiData(await response.json());\r\n      }\r\n      getUserData();\r\n    }\r\n  }, [response])\r\n\r\n  const submitForm = () => {\r\n    setError(false);\r\n    setAnimating(true);\r\n    setTimeout(() => {\r\n      userData.forEach(user => {\r\n        if (user.email === email && user.password === password) {\r\n          //navigate and return\r\n        } else {\r\n          setError(true);\r\n        }\r\n        setAnimating(false);\r\n      })\r\n    }, 2000)\r\n  }\r\n\r\n  return (\r\n    <View>\r\n      {apiData ? <Text>Welcome</Text> :\r\n        <View style={animating ? styles.opaqueContainer : styles.container}>\r\n          {/* {animating?<ActivityIndicator\r\n          size=\"large\"\r\n          style={styles.activityIndicator}\r\n        />:null} */}\r\n          <Text style={styles.header}>SWAP ME</Text>\r\n          <View style={styles.subContainer}>\r\n            <Text>Email</Text>\r\n            <TextInput\r\n              placeholder='abc@example.com'\r\n              style={styles.emailField}\r\n              value={email}\r\n              onChangeText={(value) => { setEmail(value) }}\r\n            />\r\n            <Text style={styles.passwordText}>Password</Text>\r\n            <TextInput\r\n              style={styles.passwordField}\r\n              value={password}\r\n              secureTextEntry={true}\r\n              onChangeText={(value) => { setPassword(value) }}\r\n            />\r\n            {error ?\r\n              <Text style={styles.errorText}>Invalid credentials</Text>\r\n              : null}\r\n            <Text></Text>\r\n            <Button\r\n              title='Login'\r\n              onPress={submitForm}>\r\n            </Button>\r\n          </View>\r\n          <Text>Or</Text>\r\n          <Button\r\n            title=' Sign In with Google'\r\n            disabled={!request}\r\n            onPress={promptAsync}\r\n          />\r\n        </View>}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'space-evenly',\r\n    alignItems: 'center',\r\n    backgroundColor: '#0698b1'\r\n  },\r\n  opaqueContainer: {\r\n    flex: 1,\r\n    justifyContent: 'space-evenly',\r\n    alignItems: 'center',\r\n    backgroundColor: '#0698b1',\r\n    opacity: 0.8\r\n  },\r\n  header: {\r\n    fontSize: 40,\r\n    color: 'white'\r\n  },\r\n  subContainer: {\r\n    width: 350,\r\n    backgroundColor: 'white',\r\n    padding: 20,\r\n    borderWidth: 2,\r\n    borderRadius: 15,\r\n    borderColor: 'skyblue'\r\n  },\r\n  emailField: {\r\n    borderWidth: 1,\r\n    padding: 5,\r\n    borderRadius: 5\r\n  },\r\n  passwordText: {\r\n    marginTop: 10\r\n  },\r\n  passwordField: {\r\n    borderWidth: 1,\r\n    padding: 5,\r\n    borderRadius: 5\r\n  },\r\n  errorText: {\r\n    color: 'red',\r\n    alignSelf: 'center'\r\n  },\r\n  activityIndicator: {\r\n    // position: 'absolute',\r\n    // backgroundColor: 'red'\r\n  }\r\n});\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}